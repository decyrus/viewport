(function(t){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=t()}else if(typeof define==="function"&&define.amd){define([],t)}else{var e;if(typeof window!=="undefined"){e=window}else if(typeof global!=="undefined"){e=global}else if(typeof self!=="undefined"){e=self}else{e=this}e.viewport=t()}})(function(){var t,e,n;return function(){function t(e,n,i){function o(s,c){if(!n[s]){if(!e[s]){var a="function"==typeof require&&require;if(!c&&a)return a(s,!0);if(r)return r(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[s]={exports:{}};e[s][0].call(f.exports,function(t){var n=e[s][1][t];return o(n||t)},f,f.exports,t,e,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}return t}()({1:[function(t,e,n){var i=t("jvent");var o=t("decouple");var r=t("o9n").orientation;var s=window;var c=s.document;var a=c.documentElement;function l(){this.calculateDeviceDimensions();this.refresh();o(window,"scroll",this.eventHandler.bind(this));o(window,"resize",this.eventHandler.bind(this));return this}l.prototype=new i;l.prototype.eventHandler=function t(e){this.refresh();this.emit(e.type)};l.prototype.refresh=function t(){this.calculateDimensions();this.calculateScroll();this.calculateOffset();this.calculateOrientation();return this};l.prototype.calculateDeviceDimensions=function t(){this.device={};this.device.height=s.screen.height;this.device.width=s.screen.width;this.device.orientation=r.type;return this};l.prototype.calculateDimensions=function t(){this.height=a.clientHeight;this.width=a.clientWidth;return this};l.prototype.calculateScroll=function t(){var e=this.scrollY;var n=this.height+e;var i;this.scrollY=s.pageYOffset;this.scrollX=s.pageXOffset;i=this.height+this.scrollY;if(e!==this.scrollY&&this.scrollY===0){this.emit("top")}else if(n!==i&&i>=c.body.scrollHeight){this.emit("bottom")}return this};l.prototype.calculateOffset=function t(){this.top=this.scrollY;this.right=this.scrollX+this.width;this.bottom=this.scrollY+this.height;this.left=this.scrollX;return this};l.prototype.calculateOrientation=function t(){this.device.orientation=r.type;return this};l.prototype.inViewport=function t(e){var n=e.getBoundingClientRect();return n.top>=0&&n.right<=this.width&&n.bottom<=this.height&&n.left>=0};l.prototype.isVisible=function t(e){var n=e.getBoundingClientRect();return n.bottom>=0&&n.top<=this.height};e.exports=new l},{decouple:2,jvent:3,o9n:4}],2:[function(t,e,n){"use strict";var i=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}().bind(window);function o(t,e,n){var o,r=false;function s(t){o=t;c()}function c(){if(!r){i(a);r=true}}function a(){n.call(t,o);r=false}t.addEventListener(e,s,false);return s}e.exports=o},{}],3:[function(t,e,n){"use strict";function i(){}i.prototype.on=function(t,e){this._collection=this._collection||{};this._collection[t]=this._collection[t]||[];this._collection[t].push(e);return this};i.prototype.once=function(t,e){var n=this;function i(){n.off(t,i);e.apply(this,arguments)}i.listener=e;this.on(t,i);return this};i.prototype.off=function(t,e){var n=this._collection&&this._collection[t],i=0;if(n!==undefined){for(i;i<n.length;i+=1){if(n[i]===e||n[i].listener===e){n.splice(i,1);break}}if(n.length===0){this.removeAllListeners(t)}}return this};i.prototype.removeAllListeners=function(t){this._collection=this._collection||{};delete this._collection[t];return this};i.prototype.listeners=function(t){this._collection=this._collection||{};return this._collection[t]};i.prototype.emit=function(){if(this._collection===undefined){return this}var t=[].slice.call(arguments,0),e=t.shift(),n=this._collection[e],i=0,o;if(n){n=n.slice(0);o=n.length;for(i;i<o;i+=1){n[i].apply(this,t)}}return this};e.exports=i},{}],4:[function(t,e,n){"use strict";if(typeof window!="object"){throw new Error("Oh no! o9n needs to run in a browser")}var i=window.screen;var o=window.Promise;var r;if(typeof window.ScreenOrientation==="function"&&i.orientation instanceof ScreenOrientation&&typeof i.orientation.addEventListener=="function"&&i.orientation.onchange===null&&typeof i.orientation.type==="string"){r=i.orientation}else{r=s()}e.exports={orientation:r,install:function t(){if(typeof window.ScreenOrientation==="function"&&i.orientation instanceof ScreenOrientation){return i.orientation}window.screen.orientation=r;return r}};function s(){var t={90:"landscape-primary","-90":"landscape-secondary",0:"portrait-primary",180:"portrait-secondary"};var e=v();function n(){}n.prototype.addEventListener=c("addEventListener",e.delegate,e.event);n.prototype.dispatchEvent=c("dispatchEvent",e.delegate,e.event);n.prototype.removeEventListener=c("removeEventListener",e.delegate,e.event);n.prototype.lock=p();n.prototype.unlock=d();var o=new n;Object.defineProperties(o,{onchange:{get:function(){return e.delegate["on"+e.event]||null},set:function(t){e.delegate["on"+e.event]=h(t)}},type:{get:function(){return i.msOrientation||i.mozOrientation||t[window.orientation+""]||(g().matches?"landscape-primary":"portrait-primary")}},angle:{value:0}});return o}function c(t,e,n){return function i(){var o=Array.prototype.slice.call(arguments);var r=o[0].type?o[0].type:o[0];if(r!=="change"){return}if(o[0].type){o[0]=y(n,o[0])}else{o[0]=n}var s=h(o[1]);if(t==="addEventListener"){f(o[1],s)}if(t==="removeEventListener"){u(o[1])}o[1]=s;return e[t].apply(e,o)}}var a=[];var l=[];function f(t,e){var n=l.indexOf(t);if(n>-1){a[n]=e}else{l.push(t);a.push(e)}}function u(t){var e=l.indexOf(t);if(e>-1){l.splice(e,1);a.splice(e,1)}}function h(t){var e=l.indexOf(t);if(e>-1){return a[e]}return function e(n){if(n.target!==r){m(n,"target",r)}if(n.currentTarget!==r){m(n,"currentTarget",r)}if(n.type!=="change"){m(n,"type","change")}t(n)}}function p(){var t="lockOrientation() is not available on this device.";var e;if(typeof i.msLockOrientation=="function"){e=i.msLockOrientation.bind(i)}else if(typeof i.mozLockOrientation=="function"){e=i.mozLockOrientation.bind(i)}else{e=function(){return false}}return function n(i){if(e(i)){return o.resolve(i)}else{return o.reject(new Error(t))}}}function d(){return i.orientation&&i.orientation.unlock.bind(i.orientation)||i.msUnlockOrientation&&i.msUnlockOrientation.bind(i)||i.mozUnlockOrientation&&i.mozUnlockOrientation.bind(i)||function t(){return}}function v(){var t=["orientationchange","mozorientationchange","msorientationchange"];for(var e=0;e<t.length;e++){if(i["on"+t[e]]===null){return{delegate:i,event:t[e]}}}if(typeof window.onorientationchange!="undefined"){return{delegate:window,event:"orientationchange"}}return{delegate:w(),event:"change"}}function y(t,e){var n;try{n=new Event(t,e)}catch(t){n={type:"change"}}return n}function w(){var t=Object.create({addEventListener:function t(e,n){if(!this.listeners[e]){this.listeners[e]=[]}if(this.listeners[e].indexOf(n)===-1){this.listeners[e].push(n)}},dispatchEvent:function t(e){if(!this.listeners[e.type]){return}this.listeners[e.type].forEach(function(t){t(e)});if(typeof r.onchange=="function"){r.onchange(e)}},removeEventListener:function t(e,n){if(!this.listeners[e]){return}var i=this.listeners[e].indexOf(n);if(i>-1){this.listeners[e].splice(i,1)}}});t.listeners={};var e=g();if(e&&typeof e.matches==="boolean"){e.addListener(function(){t.dispatchEvent(y("change"))})}return t}function g(){if(typeof window.matchMedia!="function"){return{}}return window.matchMedia("(orientation: landscape)")}function m(t,e,n){Object.defineProperty(t,e,{value:n})}},{}]},{},[1])(1)});
//# sourceMappingURL=./dist/viewport.min.js.map